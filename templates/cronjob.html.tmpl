<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Cronjob</title>
	<link rel="stylesheet" href="static/css/bootstrap.min.css">
</head>

<body>

{{ $cronJobs := .cronJobs }}
{{ $cronJob := .cronJob }}

<div class="container-fluid">
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<a class="navbar-brand" href="#">Platform</a>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item">
						<a class="nav-link" href="/cronjobs">CronJobs</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/cronjob?cronjob={{ $cronJob.Name }}">{{ $cronJob.Name }}<span class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						</a>
						<div class="dropdown-menu" aria-labelledby="navbarDropdown">
						{{ range $cronJobs }}
							<a class="dropdown-item" href="/cronjob?cronjob={{ .Name }}">{{ .Name }}</a>
						{{ end }}
						</div>
					</li>
				</ul>
			</div>
	</nav>

	<table class="table table-condensed table-bordered table-striped">
		<thead>
			<tr class="success">
				<th>Job</th>
				<th>Namespace</th>
				<th>Creation Time</th>
				<th>Status</th>
			</tr>
		</thead>
		<tbody>
		{{ range $cronJob.Jobs }}
		<tr>
			<td>
				<a href="/job?cronjob={{ $cronJob.Name }}&job={{ .Name }}">{{ .Name }}</a>
			</td>
			<td>{{ .Namespace }}</td>
			<td>{{ .CreationTime }}</td>
			<td>
			{{ if .Passed }}
				<a href="/job?job={{ .Name }}">
					<svg id="i-checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="20" height="20" fill="none" stroke="green" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">
						<path d="M2 20 L12 28 30 4" />
					</svg>
				</a>
			{{ else }}
				<a href="/job?job={{ .Name }}">
					<svg id="i-close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="20" height="20" fill="none" stroke="red" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">
						<path d="M2 30 L30 2 M30 30 L2 2" />
					</svg>
				</a>
			{{ end }}
			</td>
		</tr>
		{{end}}

		</tbody>
	</table class="table">


	<script src="/static/js/jquery-3.3.1.slim.min.js"></script>
	<script src="/static/js/popper.min.js"></script>
	<script src="/static/js/bootstrap.min.js"></script>
</body>
